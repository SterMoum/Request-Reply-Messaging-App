Εργασία Δικτυακού Προγραμματισμού
Request-Reply Messaging App

Ονοματεπώνυμο:Στέργιος Μουμτζής
ΑΕΜ:3620

Στο παραδοτέο που λάβατε έγινε η χρήση τεσσάρων κλάσεων:
1)Server.java
2)Client.java
3)Message.java
4)Account.java
5)ClientHandler(private κλάση μεσα στον Server)

Έγινε χρήση TCP Επικοινωνίας μεταξύ Server και Client(Χρήση streams και sockets)!
Επεξήγηση της κλάσσης Server.java και ClientHandler.java

Η κλάσση αυτή προσδιορίζει και υλοποιεί τη λειτουργία του Server ο οποίος υλοποιήθηκε με χρήση TCP σύνδεσης. Φαίνεται πως κατα τη κλήση του ο server δέχεται μία θύρα σαν όρισμα και ξεκινάει η διαδικασία της επικοινωνίας του με τον client.
Μόλις ο client στείλει ένα request(και είναι αποδεκτό) τότε καλλείται ο ClientHandler (που υλοποιεί το interface Runnable) και αμέσως μετά δημιουργούμε ενα thread και ξεκινάει η εκτέλεση του request. Για την ταυτόχρονη διαχείριση πολλαπλών αιτημάτων γίνεται η χρήση των threads όπου για κάθε αίτημα δημιουργείται και ένα διαφορετικό thread.

 Μόλις ο server λάβει ένα αίτημα απο τον client και είναι αποδεκτό τότε ανάλογα το fn_id του μηνύματος εκτελείται και η κατάλληλη συνάρτηση. Για κάθε λειτουργία έχει δημιουργηθεί και ξεχωριστή συνάρτηση η οποία καλεί ο ClientHandler και έτσι ο server στέλνει τα κατάλληλα μηνύματα πίσω στον client.

Επίσης όσοι λογαριασμοί δημιουργούνται αποθηκεύονται στο array list accounts και εκτός αυτού χρησιμοποιούνται array lists(βλ. tokens,usernames) καθώς και επιπρόσθετοι μέθοδοι (βλ. isTokenValid(int token))για  την ορθή και αποτελεσματική λειτουργία του προγραμματος

Επεξήγηση της κλάσσης Client.java

Η κλάση αυτή υλοποιεί τη λειτουργία του Client. Μόλις ξεκινάει η εκτέλεση του client ο constructor δέχεται σαν όρισμα το πίνακα με τα arguments και στέλνει την ip του και το port στον σερβερ με τη χρήση των sockets. Μόλις γίνει αποδεκτός από τον σέρβερ καλλείται η ανάλογη συνάρτηση με βάση το δοσμένο fn_id που δόθηκε στον σερβερ. 
Για την καλύτερη κατανόηση δημιουργήθηκαν για κάθε λειτουργία αντίστοιχες μέθοδοι (όπως και στον σερβερ) οι οποίες καλλουνται με βάση το fn_id και τυπώνονται τα κατάλληλα μηνύματα ανάλογα την αίτηση που έστειλε στον σερβερ.

Επεξήγηση της κλάσσης Account.java και Message.java

1)Account.java
 Η κλάση αυτή προσδιορίζει τον λογαριασμο του χρήστη ο οποίος αποτελείται από το username το auth token και το inbox του.
Πέρα απο τη δημιουργία απλών setters και getters για κάθε ιδιότητα δημιουργιούργησα και μία συνάρτηση η οποία προσθέτει ένα μήνυμα στο inbox του χρήστη κάθε φορά που λαμβάνει ένα μήνυμα
1)Message.java
Η κλάση Message περιγράφει το μήνυμα που στέλνει ένας χρήστης σε έναν άλλον. Πέρα απο τα πεδία isRead,sender,receiver,body χρησιμοποιήθηκε άλλο ένα πεδίο το οποίο είναι το id που προσδιορίζει εναν μοναδικό κωδικό που έχει κάθε απεσταλμένο μήνυμα 
